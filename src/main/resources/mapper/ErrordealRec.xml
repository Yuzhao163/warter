<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<!--namespace中匹配的是dao包所在包的包路径-->
<!--copy路径的时候要选择Copy Reference-->
<mapper namespace="com.water.water.dao.ErrordealRecDao">
    <!--resultMap中type对用所匹配的实体类,id表示resultMap的标识-->
    <resultMap id="ErrordealRecMap" type="com.water.water.pojo.ErrordealRec">
        <!--对应数据表的字段信息-->
        <result column="ERDId" property="ERDId" jdbcType="SMALLINT"/>
        <result column="PackageId" property="PackageId" jdbcType="BIGINT"/>
        <result column="ERId" property="ERId" jdbcType="SMALLINT"/>
        <result column="Exception" property="Exception" jdbcType="VARCHAR"/>
        <result column="Result" property="Result" jdbcType="VARCHAR"/>
        <result column="C_t" property="C_t" jdbcType="DATE"/>
        <result column="User" property="User" jdbcType="VARCHAR"/>
        <result column="TmnId" property="TmnId" jdbcType="VARCHAR"/>
        <result column="TmnName" property="TmnName" jdbcType="VARCHAR"/>
        <result column="PipId" property="PipId" jdbcType="VARCHAR"/>
        <result column="PTid" property="PTid" jdbcType="INTEGER"/>
    </resultMap>

    <!--对应的sql语句-->
    <select id="getAllError" resultMap="ErrordealRecMap">
        select * from td_errordeal_rec;
    </select>

<!--    <select id="getSelectMessage" resultMap="DetailResult">-->
<!--        select * from td_Rec_Detail where W_work = #{W_work} AND F_Volume-->
<!--        between #{W_Downline} AND #{W_Upline};-->
<!--    </select>-->
    <!--    -->
    <!--    <select id="getNameById" resultMap=""-->


    <!--没啥用的-->
<!--    <insert id="show_detail_deal">-->
<!--        select Exception, Result from td_errordeal_rec where TmnId=#{TmnId};-->
<!--    </insert>-->

<!--    <update id="update_detail_deal">-->
<!--        update td_errordeal_rec set Exception= # {Exception}, Result= # {Result} where TmnId = #{TmnId};-->
<!--    </update>-->

    <!--将异常处理的数据查出来返回给前端，可以将数据打成一个列表，然后前端接收会自动对其进行一定的处理-->
<!--    <select id="getError" resultMap="ErrordealRecMap">-->
<!--        select * from td_errordeal_rec;-->
<!--    </select>-->

    <update id="updateError">
        update td_errordeal_rec set Exception=#{Exception},Result=#{Result} where TmnId=#{TmnId};
    </update>


</mapper>