<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
        <!--
        author：李小杰
        date:4/20/2021
        function:往用户权限表中插入元素/删除元素
        -->
<mapper namespace="com.water.water.dao.Td_User_RightDao">
    <resultMap id="BaseResultMap" type="com.water.water.pojo.td_User_Right">
        <id column="RId" property="RId" jdbcType="SMALLINT"/>
        <result column="UserID" property="UserID" jdbcType="INTEGER"/>
        <result column="Right_PP" property="Right_PP" jdbcType="INTEGER"/>
        <result column="TmnID" property="TmnID" jdbcType="VARCHAR"/>
        <result column="PipID" property="PipID" jdbcType="VARCHAR"/>
        <result column="AreaID" property="AreaID" jdbcType="VARCHAR"/>
    </resultMap>

<!--    <insert id="addUserRight">-->
<!--        insert into td_user_right(UserID, Right_PP, TmnID, PipID, AreaID) values(#{UserID}, #{Right_PP}, #{TmnID}, #{PipID}, #{AreaID})-->
<!--    </insert>-->

    <select id="showID" resultMap="BaseResultMap">
        select TmnID, PipID, AreaID from td_user_right where UserID = #{UserID};
    </select>

    <update id="updateUserRight">
        update td_user_right set Right_PP = "", TmnID = "", PipID = "", AreaID = "" where UserID = #{UserID};
    </update>

    <insert id="addUserRights">
        insert into td_user_right(UserID, Right_PP) values(#{UserID}, #{Right_PP})
    </insert>

    <!--修改调整名字后的用户权限表-->
    <update id="updateUserRights">
        update td_user_right set Right_PP = #{Right_PP}  where UserID = #{UserID}
    </update>

    <!--根据UserID获取对应Right_PP-->
    <select id="getRight_PP" resultMap="BaseResultMap">
        select Right_PP from td_user_right where UserID = #{UserID}
    </select>
</mapper>